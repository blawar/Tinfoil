



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Network Install - Tinfoil Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#nut" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Tinfoil Documentation" aria-label="Tinfoil Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Tinfoil Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Network Install
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Tinfoil Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Tinfoil Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Network Install" class="md-nav__link md-nav__link--active">
      Network Install
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../usb/" title="USB Install" class="md-nav__link">
      USB Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../custom_index/" title="Custom Index" class="md-nav__link">
      Custom Index
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../drm/" title="DRM" class="md-nav__link">
      DRM
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mtp/" title="MTP" class="md-nav__link">
      MTP
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="nut">NUT</h1>
<p>NUT is the simplest way to install over the network. It is a piece of software that will serve your NSP's from your PC to your switch over the network, or through USB. All NSP's must have "[titleid]" in the file name to be indexed by NUT to show up in "New Games", "New DLC", and "New Updates".</p>
<p>You can download NUT at https://github.com/blawar/nut/.</p>
<h1 id="http-https">HTTP / HTTPS</h1>
<p>Tinfoil downloads the html (or json) and parses out the links. Tinfoil supports relative paths, and absolute if you want to link to a different server, or even another device such as your microSD card.</p>
<p>Tinfoil is known to work with Windows IIS, Apache, and Nginx. Though it should work with any HTTP server that supports ranged requests.</p>
<h2 id="headers-sent">Headers Sent</h2>
<p>Tinfoil will send a few custom headers when requesting a directory only (not files):</p>
<h3 id="theme-hash">Theme Hash</h3>
<p>The user's current Tinfoil theme hash is sent via "Theme: XXXXXXXXXXXXXXX".</p>
<h3 id="host-signature">Host Signature</h3>
<p>A signature of the request Url scheme and hostname is sent via "HAUTH: XXXXXXXXXXXXXX".  This value is unique to your domain, and helps prevent forged requests.  Simply verify that the client always sends the correct value.  Do not share this value.</p>
<h3 id="host-signature_1">Host Signature</h3>
<p>A signature of the entire request Url is sent via "UAUTH: XXXXXXXXXXXXXX".  This value is unique to your domain, and helps prevent forged requests.  Simply verify that the client always sends the correct value.  Do not share this value.</p>
<h3 id="user-fingerprint">User Fingerprint</h3>
<p>A unique user fingerprint is sent via "UID: XXXXXXXXXXXXXX".</p>
<h3 id="user-language">User Language</h3>
<p>Tinfoil's current language setting is set via "Language: XXXXXXXXXXXXXX".</p>
<h3 id="tinfoil-version">Tinfoil Version</h3>
<p>The client's Tinfoil version is sent via "Version: 7.00".</p>
<h2 id="basic-directory-serving">Basic Directory Serving</h2>
<p>Just enable directory listing on your web server, and Tinfoil will automatically parse the links. Your web server will automatically generate the html!</p>
<h2 id="authorization">Authorization</h2>
<h2 id="basic-auth">Basic Auth</h2>
<p>Basic HTTP authentication is supported, to prevent unauthorized users from accessing your files.</p>
<h2 id="client-certificate-auth">Client Certificate Auth</h2>
<p>A custom client certificate may be specified with a custom index file.</p>
<h1 id="ftp-ftps">FTP / FTPS</h1>
<p>Tinfoil is known to work with Windows IIS FTP server, and FileZilla. Though it works with many more servers.</p>
<h1 id="samba-smb">Samba / SMB</h1>
<p>Tinfoil supports SMB / Windows File Shares.</p>
<h1 id="google-drive">Google Drive</h1>
<p>All google drive links use the gdrive: scheme within Tinfoil, however there are three different modes with different priority levels.</p>
<h1 id="1fichier">1Fichier</h1>
<p>This requires a 1Fichier account.  Generate a 1F api key in your 1F account settings, then input this API key in Tinfoil's options screen (case sensitive).</p>
<h2 id="accessing-your-private-1f-files">Accessing your private 1F files</h2>
<p>Go to file browser and add a new location: protocol is 1F, leave everything else the same.</p>
<p>This will only list files and directories associated with your 1F account.</p>
<h2 id="public-1f-files">Public 1F files</h2>
<p>Tinfoil does not currently support listing public 1F directories, however you can generate an index of 1F file links using the following format:</p>
<pre><code>1f:file_id#name.txt
</code></pre>

<h1 id="split-files-jbod">Split files (JBOD)</h1>
<p>If your filesystem / storage provider has a max file size, tinfoil supports split files using an index.
A number in the path changes the file / chunk size.  It can be changed at any time.</p>
<p>Example index file entry:</p>
<pre><code>jbod:10000000/sdmc%3A%2Fbah%2Fxaa/sdmc%3A%2Fbah%2Fxab/sdmc%3A%2Fbah%2Fxac/sdmc%3A%2Fbah%2Fxad/sdmc%3A%2Fbah%2Fxae/sdmc%3A%2Fbah%2Fxaf/sdmc%3A%2Fbah%2Fxag/sdmc%3A%2Fbah%2Fxah/sdmc%3A%2Fbah%2Fxai/4036670/sdmc%3A%2Fbah%2Fxaj#filename.zip
</code></pre>

<p>The first number is the size of the following chunks.  The chunk size can be changed at anytime, and is often done so for the last chunk since it is often smaller.  The chunks are urlencoded and seperated by forward slashes.</p>
<h2 id="embedding-files-within-files-with-offsets-jbod">Embedding files within files with offsets (JBOD)</h2>
<p>jbod supports offsets (in decimal) for embedding data within files (the offset is 100, the size is 1234):</p>
<pre><code>jbod:offset/100/1234/sdmc%3A%2Ftest.file
</code></pre>

<h2 id="encrypting-files-jbod">Encrypting files (JBOD)</h2>
<p>jbod supports decrypting files.  Only AES-128-ECB is currently supported.  33333333333333333333333333333333 is the encryption key.</p>
<pre><code>jbod:aes128/33333333333333333333333333333333/offset/0/1234/sdmc%3A%2Ftest.file
</code></pre>

<p>An example python script to encrypt the files is located here:</p>
<p><a href="../files/encrypt_nsz.py">encrypt_nsz.py</a></p>
<h2 id="packing-files-jbod">Packing files (JBOD)</h2>
<p>JBOD allows you to pack more than one file into a single file and then reference each file using offsets and sizes.</p>
<p>An example python script to pack multiple files is located here:
<a href="../files/pack.py">pack.py</a></p>
<pre><code>pack.py &quot;c:\nsz\dlc&quot; -o packed.bin --max-size 3000000
</code></pre>

<h2 id="url-format">URL Format</h2>
<p>Both files and folders follow the same format.  If specifying by the google file id, use gdrive:AAAAAAAAAAAAAAAAA (notice lack of forward slash).  If specifying a path (only works with OAuth) use gdrive:/root/folder1/file.zip</p>
<h2 id="auth">Auth</h2>
<h3 id="oauth">OAuth</h3>
<p>Google Drive OAuth has the highest priority and will always be used if setup.  OAuth is the only method to access and list private files.  You must set up google drive OAuth within NUT, and then connect Tinfoil to NUT via network or USB to transfer the OAuth token(s).</p>
<h3 id="api-key">API Key</h3>
<p>Specifying an API key allows you to do authed requests to access private files, however listing files will not work.</p>
<h3 id="public">Public</h3>
<p>This is the least reliable, however it supports listing and downloading public files.</p>
<h1 id="dropbox">Dropbox</h1>
<p>Access Token
You need an API key to use this. Go to https://www.dropbox.com/developers/apps and create a new app, and then click the "generate access token" button to generate an access token to use with Tinfoil.</p>
<p>Adding the location
You can edit the locations.conf file directly by adding an entry for dropbox://token:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX@api.dropbox.com/ where XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX is your access token.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../usb/" title="USB Install" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                USB Install
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:".."}})</script>
      
    
  </body>
</html>